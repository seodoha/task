"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var uiCommon=function(e,s){return e.init=function(){e.eventBind.init(),0<$("[data-pop]").length&&e.layer.init(),0<$("[data-toast-pop]").length&&e.toast.init()},e.loading={open:function(){$(".loading-wrap").addClass("show"),0===$("#loading-bar svg").length&&e.lottie.init("loading-bar","10_infinite_scroll")},close:function(){$(".loading-wrap").removeClass("show")}},e.bodyFix={on:function(){$("#wrap");var t=s.scrollTop();$("body").addClass("scrOff").css({top:-t})},off:function(){var t=Math.abs(parseInt($("body").css("top")));$("body").removeClass("scrOff").removeAttr("style"),s.scrollTop(t)}},e.slick={init:function(t,i){return t.not(".slick-initialized").slick(i)},destory:function(t){t.filter(".slick-initialized").slick("unslick")}},e.lottie={init:function(t,i){lottie.loadAnimation({container:document.getElementById(t),renderer:"svg",loop:!0,autoplay:!0,path:"../../../assets/web/images/lottie/"+i+".json"})}},e.layer={init:function(){var i=this;$("[data-pop]").on("click",function(t){return i.open(t)}),$("body").on("click",".popup-close",function(t){return i.close(t)}),document.addEventListener("click",function(t){t=$(t.target);t.hasClass("layer-popup-wrap")&&t.attr({tabindex:"","aria-hidden":"true"}).stop().fadeOut().removeClass("show")})},open:function(t){t="object"==_typeof(t)?"#"+$(t.currentTarget).attr("data-pop"):"#"+t;$(t).find(".layer-popup").hasClass("alert-popup")||$(t).find(".layer-popup").hasClass("slide-popup")||$(t).find(".layer-popup").hasClass("img-popup")||this.scroll($(t)),$(t).find(".layer-popup").hasClass("slide-popup")&&this.slider($(t)),$(t).attr({tabindex:0,"aria-hidden":"false"}).stop().fadeIn().css("display","flex").addClass("show").focus()},close:function(t){console.log(_typeof(t)),("object"==_typeof(t)?$(t.currentTarget).closest(".layer-popup-wrap"):$("#"+t)).attr({tabindex:"","aria-hidden":"true"}).stop().fadeOut().removeClass("show")},scroll:function(t){var i=t.find(".layer-popup"),n=t.find(".popup-body");$(n).scrollbar(),$.fn.hasScrollBar=function(){if(0<n.length)return this.get(0).scrollHeight>this.innerHeight()},setTimeout(function(){n.hasScrollBar()&&(i.addClass("isScroll"),n.on("wheel scroll",function(){0<$(this).scrollTop()?i.addClass("down"):i.removeClass("down")}))},100)},slider:function(t){var i=t.find(".popup-slider"),n=i.find("> div").length;setTimeout(function(){i&&(i.on({init:function(t,i){$(".slider-count .total").text(n)},beforeChange:function(t,i,n,e){i.slideCount;$(".slider-count .current").text(e+1)}}),e.slick.init(i,{infinite:!0,speed:500,slidesToShow:1,dots:!1,arrows:!1}))},100)}},e.toast={init:function(){var i=this;$("[data-toast-pop]").on("click",function(t){return i.open(t)}),$(".btn-toast").on("click",function(){$(this).siblings(".pop-toast").hasClass("show")||($(this).siblings(".pop-toast").addClass("show"),setTimeout(function(){$(".pop-toast").removeClass("show")},2e3))})},open:function(t){var i="object"==_typeof(t)?"#"+$(t.currentTarget).attr("data-toast-pop"):"#"+t;$(i).hasClass("show")||($(i).addClass("show"),setTimeout(function(){$(i).removeClass("show")},2e3))}},e.eventBind={init:function(){0<$("header").length&&this.header.init(),0<$(".btn-top-move").length&&this.floatingBtn.init(),0<$(".tab-wrap").length&&this.tab.init(),0<$(".box-tooltip").length&&this.tooltip.init(),0<$(".detail-comment").length&&this.commentMore.init(),0<$(".box-input-write .box-input textarea").length&&this.commentInput.init(),0<$(".accordion-head button").length&&this.accordion.init(),0<$(".rolling-list").length&&this.rolling.init(),0<$(".text-input-wrap").length&&this.textField.init(),0<$(".box-search-word").length&&this.popularSearchWord.init(),0<$(".custom-scroll").length&&this.customScroll.init(),this.slider.init(),this.lottie.init(),0<$(".plugin-select").length&&this.selectric.init(),this.writeEvent.init(),0<$("#main").length&&this.mainEvt.init(),0<$(".story-detail").length&&this.storyDetail.init(),0<$(".login-layout").length&&this.loginEvent.init()},mainEvt:{init:function(){this.viSlider(),this.scroll()},viSlider:function(){var t;setTimeout(function(){$(".main-kv").on({init:function(t,i){var n;0<$(".slick-slide.slick-active").find("video").length?(n=1e3*$(".slick-slide.slick-active").find("video")[0].duration,$(".main-kv").slick("slickSetOption","autoplaySpeed",n)):$(".main-kv").slick("slickSetOption","autoplaySpeed",5e3)},afterChange:function(t,i,n,e){i.slideCount;0<$(".slick-slide.slick-active").find("video").length?(i=1e3*$(".slick-slide.slick-active").find("video")[0].duration,$(".main-kv").slick("slickSetOption","autoplaySpeed",i)):$(".main-kv").slick("slickSetOption","autoplaySpeed",5e3)}})},100),$(".main-kv > *").eq(0).find("video")[0]?(t=999*$(".main-kv > *").eq(0).find("video")[0].duration,e.slick.init($(".main-kv"),{infinite:!0,slidesToShow:1,autoplay:!0,autoplaySpeed:t,dots:!0,fade:!0})):e.slick.init($(".main-kv"),{infinite:!0,slidesToShow:1,autoplay:!0,autoplaySpeed:5e3,dots:!0,fade:!0})},scroll:function(){var e=new ScrollMagic.Controller({globalSceneOptions:{duration:600}});$(".box-story-wrap .box-thumb-list li").each(function(t,i){var n=TweenMax.to("#"+$(i).attr("id"),.3,{y:0,opacity:1});new ScrollMagic.Scene({triggerElement:"#"+$(i).attr("id"),offset:-500}).setTween(n).addTo(e)})}},header:{init:function(){this.gnb(),this.search(),s.on("scroll",function(){0<$(window).scrollTop()?$("header").addClass("scrolling"):$("header").removeClass("scrolling")})},search:function(){var t=$(".box-hd-sch"),i=t.find(".sch-input"),n=t.find(".ico-search-delete"),e=t.find(".box-sch-type1"),o=t.find(".box-sch-type2");function s(){""!==i.val()?(n.show(),e.removeClass("on"),o.show()):(n.hide(),e.addClass("on"),o.hide())}setTimeout(function(){i.on("change keyup",s)},100),n.on("click",function(){$(this).hide(),o.hide(),i.val("").focus()}),i.on("focus",function(){s(),i.addClass("isFocus")}),document.querySelector("body").addEventListener("click",function(t){t.target.closest(".box-hd-sch")?(s(),i.addClass("isFocus")):(i.removeClass("isFocus"),e.removeClass("on"),o.hide(),n.hide())})},gnb:function(){var t=$(".btn-hamburger"),i=$(".gnb-wrap"),n=$(".dep1.isDep2");t.on("click",function(){i.fadeIn().addClass("open")}),i.on("click",function(t){"gnb-wrap open"===t.target.className&&i.hide().removeClass("open")}),n.on("click",function(){$(this).toggleClass("open"),$(this).siblings(".dep2-list").slideToggle("fast")})}},tab:{init:function(){$(".tab-wrap").hasClass("tab-ctrl")&&this.tabEvent(),0<$(".tab-wrap .ico-1depth-close").length&&this.tabDropDown()},tabEvent:function(){$(".tab-wrap").each(function(t,i){$(i).find(".tab-list > li").eq(0).find("a, button").attr({title:"현재 탭","aria-selected":"true",role:"tab"}).addClass("on"),$(i).find(".tab-content").find("> div").eq(0).attr("aria-hidden","false").siblings("div").attr("aria-hidden","true")}),$(".tab-ctrl .tab-list > li > *").on("focusin click",function(){var t=$(this).closest("li").index();$(this).addClass("on").attr({title:"현재 탭","aria-selected":"true"}).closest("li").siblings("li").find("a").removeClass("on").attr({title:"","aria-selected":"false"}),$(this).closest(".tab-list").siblings(".tab-content").children("div").attr("aria-hidden","false").eq(t).show().siblings("div").hide().attr("aria-hidden","true")})},tabDropDown:function(){var t=$(".tab-list");$(".ico-1depth-close").on("click",function(){$(this).closest(".btn-tab-wrap").siblings(".tab-list").toggleClass("active")}),t.each(function(t,i){var e,n=$(i).width(),o=$(i).find("> li"),s=0;$(i).on("wheel",function(t){t.preventDefault();var i=$(this).scrollLeft();$(this).scrollLeft(i+=t.originalEvent.deltaY)}),o.each(function(t,i){var n=$(i).width();-1!=$(i).find(".on").parent().index()&&(e=$(i).find(".on").parent().index()),s+=n}),n<=s&&($(i).siblings(".btn-tab-wrap").show(),$(i).addClass("isScroll"),6<e&&setTimeout(function(){$(i).scrollLeft(90*e)},160))})}},floatingBtn:{init:function(){var t,i,n=$(".footer-floating"),e=$(".btn-top-move"),o=$(".btn-write-bottom");0===$(".btn-write-head").length&&o.hide(),0<$("#event.challenge").length&&o.show(),0<$("#welcafe.dtCommunity").length&&o.show(),0<$(".user-home").length&&o.show(),setTimeout(function(){i=$("#container").innerHeight()-$(window).height()-$("footer").innerHeight()+100,s.on("scroll",function(){140<=(t=$(this).scrollTop())?n.addClass("on"):n.removeClass("on"),i<=t?n.addClass("fix"):n.removeClass("fix")})},100),e.on("click",function(){return $("html,body").animate({scrollTop:0},400)})}},tooltip:{init:function(){this.open(),this.close()},open:function(){$(".btn-tooltip").on("click",function(){$(this).hasClass("disabled")||$(this).siblings(".active-toolBox").toggleClass("active")})},close:function(){document.querySelector("body").addEventListener("click",function(t){t.target.closest(".box-tooltip")||$(".active-toolBox").removeClass("active")})}},slider:{init:function(){$(".popular-list").length&&(e.slick.init($(".popular-list"),{infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,dots:!1}),$(".slick-next").on("click",function(){$(this).hasClass("slick-disabled")&&$(".popular-list").slick("slickGoTo",0)})),$(".ev-lg-slide").length&&($(".tab-list-round a").on("click",function(){$(".ev-lg-slide").slick("refresh"),$(".slick-next").on("click",function(){$(this).hasClass("slick-disabled")&&$(this).closest(".slick-slider").slick("slickGoTo",0)})}),e.slick.init($(".ev-lg-slide"),{infinite:!1,speed:500,slidesToShow:1,dots:!1}),$(".slick-next").on("click",function(){$(this).hasClass("slick-disabled")&&$(this).closest(".slick-slider").slick("slickGoTo",0)})),$(".ev-slide").length&&($(".tab-list-round a").on("click",function(){$(".ev-slide").slick("refresh"),$(".slick-next").on("click",function(){$(this).hasClass("slick-disabled")&&$(this).closest(".slick-slider").slick("slickGoTo",0)})}),e.slick.init($(".ev-slide"),{infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,dots:!1}),$(".slick-next").on("click",function(){$(this).hasClass("slick-disabled")&&$(this).closest(".slick-slider").slick("slickGoTo",0)})),$(".slider-wrap").length&&$(".box-notice-list").length&&(e.slick.init($(".box-notice-list"),{infinite:!1,speed:500,slidesToShow:3,slidesToScroll:3,dots:!1}),$(".slick-next").on("click",function(){$(this).hasClass("slick-disabled")&&$(".box-notice-list").slick("slickGoTo",0)})),$(".chart-slider").length&&e.slick.init($(".chart-slider"),{infinite:!1,speed:500,slidesToShow:1,dots:!1})}},lottie:{init:function(){0<$("#not-search").length&&e.lottie.init("not-search","01_coffee_cup"),0<$("#not-challenge").length&&e.lottie.init("not-challenge","06_challenge"),0<$("#not-challenge02").length&&e.lottie.init("not-challenge02","06_challenge"),0<$("#not-challenge03").length&&e.lottie.init("not-challenge03","06_challenge"),0<$("#not-challenge04").length&&e.lottie.init("not-challenge04","06_challenge"),0<$("#not-challenge05").length&&e.lottie.init("not-challenge05","06_challenge"),0<$("#not-page").length&&e.lottie.init("not-page","03_error_page"),0<$("#not-pin").length&&e.lottie.init("not-pin","02_wellcafe_pin"),0<$("#not-board").length&&e.lottie.init("not-board","08_community_empty"),0<$("#icon-lottie06").length&&e.lottie.init("icon-lottie06","07_complete"),0<$("#icon-lottie04").length&&e.lottie.init("icon-lottie04","04_error_service"),0<$("#ceracheck").length&&e.lottie.init("ceracheck","11_ceracheck"),0<$("#dormant-member").length&&e.lottie.init("dormant-member","05_login_dormant")}},accordion:{init:function(){var t=$(".accordion-head button"),i=$(".accordion-body");t.on("click",function(){$(this).hasClass("open")?(t.removeClass("open"),i.stop().slideUp("fast")):(t.removeClass("open"),i.stop().slideUp("fast"),$(this).addClass("open"),$(this).closest(".accordion-wrap").find(".accordion-body").stop().slideDown("fast"))})}},commentMore:{init:function(){$(".main-comment").each(function(t,i){var n=$(i),i=n.closest(".best-comment").length;n.siblings(".sub-comment").length&&(n.find(".ico-comment").addClass("isComment"),i||(n.find(".ico-comment").addClass("on"),n.siblings(".sub-comment").show()))}),setTimeout(function(){$(".main-comment .ico-comment.isComment").on("click",function(){var t=$(this).closest("li").find(".sub-comment");$(this).toggleClass("on"),t.stop().slideToggle("fast")})},50)}},commentInput:{init:function(){var t=$(".box-input-write .box-input textarea"),i=$(document.createElement("div")),n=null;i.addClass("tarea-hidden"),t.after(i),t.on("keyup",function(){n=(n=$(this).val()).replace(/\n/g,"<br>"),$(this).siblings(".tarea-hidden").html(n+'<br class="lbr">'),$(this).css("height",$(this).siblings(".tarea-hidden").height())})}},storyDetail:{init:function(){this.headerNavi(),this.bottomNavi(),0<$(".sub-visual .video-js").length&&this.coverVideo()},coverVideo:function(){var t=$(".sub-visual"),i=t.find(".box-txt"),n=videojs("#cover-video");i.hover(function(){t.addClass("video-hover")},function(){t.removeClass("video-hover")}),i.on("click",function(){n.paused()?n.play():n.pause()})},headerNavi:function(){var i,n=$("header"),e=$(".story-detail-header"),o=$(".progressbar .in-progress");s.on("scroll",function(){var t=$(this).scrollTop();i=$(document).height()-$(window).height(),i=100*t/i+0,o.css("width",i+"%"),t>n.height()||"0px"!=$("body").css("top")?(n.hide(),e.stop().fadeIn("fast")):(n.show(),e.stop().fadeOut("fast"))})},bottomNavi:function(){var n=$(".layout-detail-view");n.addClass("sticky"),setTimeout(function(){var t=$(window).height(),i=n.find(".detail-comment").offset().top-1.2*t;s.on("resize",function(){t=$(window).height(),i=n.find(".detail-comment").offset().top-1.2*t}),s.on("scroll",function(){var t=$(this).scrollTop();i<t?n.removeClass("sticky"):n.addClass("sticky")})},100)}},rolling:{init:function(){var t=$(".rolling-list"),o=$(".rolling-count"),i=$(".rolling-arrow");o.find(".total").text(t.find("> div").length),t.on({beforeChange:function(t,i,n,e){i.slideCount;o.find(".current").text(e+1)}}),e.slick.init(t,{infinite:!0,speed:500,slidesToShow:1,dots:!1,arrows:!1,autoplay:!0,autoplaySpeed:3e3,vertical:!0}),i.find(".prev").on("click",function(){return t.slick("slickPrev")}),i.find(".next").on("click",function(){return t.slick("slickNext")})}},selectric:{init:function(){this.niceSelect()},niceSelect:function(){$(".plugin-select").niceSelect(),setTimeout(function(){$(".nice-select").each(function(t,i){var n=$(i).find(".list li");console.log(i),n.eq(0).hasClass("selected")||$(i).addClass("on"),n.on("click",function(){0==$(this).index()?$(i).removeClass("on"):$(i).addClass("on")})})},50)}},writeEvent:{init:function(){0<$(".box-guide").length&&this.guideBox(),0<$(".box-module-wrap").length&&this.moduleList(),0<$(".box-board-head .plugin-select").length&&this.selectConv(),0<$(".text-edit-bar").length&&this.textEditBar()},guideBox:function(){var t=$(".box-guide");setTimeout(function(){return t.addClass("hide")},3e3)},moduleList:function(){var t=$(".box-module-wrap"),i=$(".list-module");t.offset().top;setTimeout(function(){i.find("> li").hover(function(){$(this).siblings("li").find("button").addClass("unfocus")},function(){$(this).siblings("li").find("button").removeClass("unfocus")})},500),$(".ico-post-mov").on("click",function(){$(this).siblings(".layer-module-select").toggleClass("on")}),document.querySelector("body").addEventListener("click",function(t){t.target.closest(".ico-post-mov")||$(".layer-module-select").removeClass("on")})},selectConv:function(){var t=$(".box-board-head .plugin-select");0!=t.find("option:selected").index()&&$(".selectric").addClass("on"),t.on("change",function(){0!=$(this).find("option:selected").index()?$(".selectric").addClass("on"):$(".selectric").removeClass("on")})},textEditBar:function(){var i=$(".text-edit-bar"),n=$(".box-edit-wrap").offset().top-200;s.on("scroll",function(){var t=$(this).scrollTop();n<=t?i.addClass("active"):i.removeClass("active")})}},textField:{init:function(){this.delete()},delete:function(){var t=$(".text-input-wrap"),i=t.find("input"),n=t.find(".ico-search-delete");setTimeout(function(){i.on("change keyup",function(){var t=$(this).val(),i=$(this).siblings(".ico-search-delete"),n=$(this).siblings(".btn-action");console.log(n.length),""!==t?(i.show(),n.length&&n.show()):(i.hide(),n.length&&n.hide())})},100),n.on("click",function(){$(this).hide(),$(this).siblings("input").val("").focus()}),document.querySelector("body").addEventListener("click",function(t){t.target.closest(".text-input-wrap")||n.hide()})}},popularSearchWord:{init:function(){this.rolling(),this.click()},rolling:function(){var t=$(".box-search-word .rolling-wrap"),i=t.height(),n=t.find("li").length,e=i*n,o=0;setInterval(function(){o+=i,t.find("ul").animate({top:-o},600,function(){e<=o&&($(this).css("top",0),o=0)})},3e3),t.find("ul").append(t.find("li").first().clone())},click:function(){var t=$(".box-search-word .ico-black-arr-down"),i=$(".box-search-word .list-popular-wrap");t.on("click",function(){i.addClass("show")}),$(document).mouseup(function(t){0===i.has(t.target).length&&i.removeClass("show")})}},customScroll:{init:function(){$(".custom-scroll").scrollbar()}},hashTag:{init:function(){var e=$(".chips-editable"),o=e.find(".edit-input-wrap .chip-edit"),s=e.find("#input-width-calc"),l=/[~!@\#$%^&*\()\-=+_'\;<>\/.\`:\"\\,\[\]?|{}]/gi,c=[],t=s.innerWidth();function a(t){s.text(t),o.css("width",s.innerWidth())}function r(){console.log(),e.siblings(".error").remove()}o.css("width",t),$(document).on("click",".chip-edit-done",function(){var t=$(this).index();c.splice(t,1),$(this).remove(),o.focus()}),o.on("propertychange change keyup paste input",function(t){var i,n=$(this).val();13===t.keyCode?(t.preventDefault(),i=-1<c.findIndex(function(t){return t===n}),n&&0<n.length&&!i&&(l.test(n)?(r(),e.after('<strong class="error">해시태그에는 특수문자를 사용할 수 없습니다.</strong>')):l.test(n)||(r(),c.push(n),t=n,i=e.find(".edit-input-wrap"),t='<button class="chip-edit chip-edit-done">'.concat(t,"</button>"),i.before(t))),s.text(""),o.val("").focus(),o.css("width",s.innerWidth())):a(n)}),o.on("keydown",function(t){var i=$(this).val();8===t.keyCode&&(""!==i||0<=(t=$(".chip-edit-done").length-1)&&(c.splice(t,1),$(".chip-edit-done").eq(t).remove()),a(i))})}},loginEvent:{init:function(){this.inputEv()},inputEv:function(){var i=$(".box-input input"),n=$(".login-layout .btn-input"),t=$(".login-layout .login-2depth");$(".login-layout .access-time");i.focus(function(){$(this).parents(".box-input").find(".btn-input").show()}),setTimeout(function(){i.on("change keyup",function(){var t=$(this).val(),i=$(this).parents(".box-input").find(".btn-input");0==i.hasClass("complete")&&(""!==t?i.addClass("on"):i.removeClass("on"))})},100),document.querySelector("body").addEventListener("click",function(t){t.target.closest(".box-input")||""!=i.val()||n.hasClass("complete")||n.hide()}),n.on("click",function(){$(this).hasClass("on")&&t.show()})}}},e.init(),e}(window.uiCommon||{},$(window));