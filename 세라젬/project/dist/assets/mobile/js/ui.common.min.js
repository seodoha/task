"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var uiCommon=function(e,i){return e.init=function(){e.eventBind.init(),e.screenSize.init(),0<$("[data-pop]").length&&e.layer.init(),0<$("[data-toast-pop]").length&&e.toast.init()},e.loading={open:function(){$(".loading-wrap").addClass("show"),0===$("#loading-bar svg").length&&e.lottie.init("loading-bar","10_infinite_scroll")},close:function(){$(".loading-wrap").removeClass("show")}},e.screenSize={init:function(){var t=this;this.set(),i.on("resize",function(){return t.set()})},set:function(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))}},e.bodyFix={on:function(){$("#wrap");var t=i.scrollTop();$("body").addClass("scrOff").css({top:-t})},off:function(){var t=Math.abs(parseInt($("body").css("top")));$("body").removeClass("scrOff").removeAttr("style"),i.scrollTop(t)}},e.slick={init:function(t,i){return t.not(".slick-initialized").slick(i)},destory:function(t){t.filter(".slick-initialized").slick("unslick")},editorSlider:function(t){var n=t.find("> div").length,o=t.find(".slider-count");setTimeout(function(){o.find(".total").text(n),t.on({init:function(t,i){o.find(".total").text(n)},beforeChange:function(t,i,n,e){i.slideCount;o.find(".current").text(e+1)}}),e.slick.init(t,{infinite:!0,speed:500,slidesToShow:1,dots:!1,arrows:!1,variableWidth:!0})},100)}},e.lottie={init:function(t,i){lottie.loadAnimation({container:document.getElementById(t),renderer:"svg",loop:!0,autoplay:!0,path:"../../../assets/mobile/images/lottie/"+i+".json"})}},e.layer={init:function(){var i=this;$("[data-pop]").on("click",function(t){t.preventDefault(),i.open(t)}),$("body").on("click",".popup-close",function(t){return i.close(t)}),document.addEventListener("click",function(t){t=$(t.target);t.hasClass("layer-popup-wrap")&&t.attr({tabindex:"","aria-hidden":"true"}).stop().fadeOut().removeClass("show")})},open:function(t){var i="object"==_typeof(t)?"#"+$(t.currentTarget).attr("data-pop"):"#"+t;this.obj=$(t.currentTarget),e.bodyFix.on(),$(i).find(".layer-popup").hasClass("alert-popup")||$(i).find(".layer-popup").hasClass("slide-popup")||$(i).find(".layer-popup").hasClass("img-popup")||$(i).find(".layout-comment-wrap").length||this.scroll($(i)),$(i).find(".layer-popup").hasClass("slide-popup")&&this.slider($(i)),$(i).attr({tabindex:0,"aria-hidden":"false"}).stop().fadeIn().css("display","flex").addClass("show").focus()},close:function(t){("object"==_typeof(t)?$(t.currentTarget).closest(".layer-popup-wrap"):$("#"+t)).attr({tabindex:"","aria-hidden":"true"}).stop().fadeOut().removeClass("show"),e.bodyFix.off(),this.obj.focus()},scroll:function(t){var i=t.find(".layer-popup"),n=t.find(".popup-body");$.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.innerHeight()},setTimeout(function(){n.hasScrollBar()&&(i.addClass("isScroll"),n.on("wheel scroll",function(){0<$(this).scrollTop()?i.addClass("down"):i.removeClass("down")}))},100)},slider:function(t){var i=t.find(".popup-slider"),n=i.find("> div").length;setTimeout(function(){i&&(i.on({init:function(t,i){$(".slider-count .total").text(n)},beforeChange:function(t,i,n,e){i.slideCount;$(".slider-count .current").text(e+1)}}),e.slick.init(i,{infinite:!0,speed:500,slidesToShow:1,dots:!1,arrows:!1}))},100)}},e.toast={init:function(){var i=this;$("[data-toast-pop]").on("click",function(t){return i.open(t)}),$(".btn-toast").on("click",function(){$(this).siblings(".pop-toast").hasClass("show")||($(this).siblings(".pop-toast").addClass("show"),setTimeout(function(){$(".pop-toast").removeClass("show")},2e3))})},open:function(t){var i="object"==_typeof(t)?"#"+$(t.currentTarget).attr("data-toast-pop"):"#"+t;$(i).hasClass("show")||($(i).addClass("show"),setTimeout(function(){$(i).removeClass("show")},2e3))}},e.eventBind={init:function(){0<$("header").length&&this.header.init(),0<$(".sub-page-header").length&&this.subHeader.init(),0<$(".tab-wrap").length&&this.tab.init(),0<$(".box-tooltip").length&&this.tooltip.init(),0<$(".accordion-head button").length&&this.accordion.init(),0<$(".rolling-list").length&&this.rolling.init(),0<$(".text-input-wrap").length&&this.textField.init(),0<$(".fold-btn-wrap").length&&this.fold.init(),0<$(".box-search-word").length&&this.popularSearchWord.init(),0<$(".slider-wrap").length&&this.slider.init(),0<$(".layout-comment-wrap").length&&this.comment.init(),this.writeEvent.init(),this.lottie.init(),this.floatingBtn.init(),0<$("#main").length&&this.main.init(),0<$(".story-detail").length&&this.storyDetail.init()},comment:{init:function(){var t=$(".main-comment");$(".list-comment > li");t.each(function(t,i){i=$(i);i.closest(".best-comment").length||(i.find(".btn-comment-more").addClass("on").text("답글 접기"),i.siblings(".sub-comment").show())}),setTimeout(function(){$(".main-comment .btn-comment-more").on("click",function(){var t=$(this).closest("li").find(".sub-comment");$(this).hasClass("on")?($(this).removeClass("on").text("답글 보기"),t.stop().slideUp("fast")):($(this).addClass("on").text("답글 접기"),t.stop().slideDown("fast"))})},50)}},header:{init:function(){this.gnb(),0<$(".event-main").length&&this.scroll()},gnb:function(){var t=$(".btn-hamburger"),i=$(".gnb-wrap"),n=$(".dep1.isDep2");t.on("click",function(){i.fadeIn().addClass("open")}),i.on("click",function(t){"gnb-wrap open"===t.target.className&&i.hide().removeClass("open")}),n.on("click",function(){$(this).toggleClass("open"),$(this).siblings(".dep2-list").slideToggle("fast")})},scroll:function(){i.on("scroll",function(){0<$(window).scrollTop()?$("header").addClass("scrolling"):$("header").removeClass("scrolling")})}},subHeader:{init:function(){0<$(".shadow-bg").length&&this.detailScroll()},detailScroll:function(){i.on("scroll",function(){0<$(window).scrollTop()?$(".sub-page-header").addClass("white-bg"):$(".sub-page-header").removeClass("white-bg")})}},tab:{init:function(){$(".tab-wrap").hasClass("tab-ctrl")&&this.tabEvent(),0<$(".tab-wrap .ico-1depth-close").length&&this.tabDropDown()},tabEvent:function(){$(".tab-wrap").each(function(t,i){$(i).find(".tab-list > li").eq(0).find("a, button").attr({title:"현재 탭","aria-selected":"true",role:"tab"}).addClass("on"),$(i).find(".tab-content").find("> div").eq(0).attr("aria-hidden","false").siblings("div").attr("aria-hidden","true")}),$(".tab-ctrl .tab-list > li > *").on("focusin click",function(){var t=$(this).closest("li").index();$(this).addClass("on").attr({title:"현재 탭","aria-selected":"true"}).closest("li").siblings("li").find("a").removeClass("on").attr({title:"","aria-selected":"false"}),$(this).closest(".tab-list").siblings(".tab-content").children("div").attr("aria-hidden","false").eq(t).show().siblings("div").hide().attr("aria-hidden","true")})},tabDropDown:function(){var t=$(".tab-list");$(".ico-1depth-close").on("click",function(){$(this).closest(".btn-tab-wrap").siblings(".tab-list").toggleClass("active")}),t.each(function(t,i){var e,n=$(i).width(),o=$(i).find("> li"),s=0;$(i).on("wheel",function(t){t.preventDefault();var i=$(this).scrollLeft();$(this).scrollLeft(i+=t.originalEvent.deltaY)}),o.each(function(t,i){var n=$(i).width();-1!=$(i).find(".on").parent().index()&&(e=$(i).find(".on").parent().index()-1),s+=n}),n<=s&&($(i).siblings(".btn-tab-wrap").show(),$(i).addClass("isScroll"),6<e&&setTimeout(function(){$(i).scrollLeft(90*e)},160))})}},floatingBtn:{init:function(){var t=$(".btn-write-bottom");$("#container").hasClass("isWriteBtn")&&(t.show().css("display","flex"),setTimeout(function(){t.addClass("on")},1e3))}},tooltip:{init:function(){this.open(),this.close()},open:function(){$(".btn-tooltip").on("click",function(){$(this).siblings(".active-toolBox").toggleClass("active")})},close:function(){document.querySelector("body").addEventListener("click",function(t){t.target.closest(".box-tooltip")||$(".active-toolBox").removeClass("active")})}},toast:{init:function(){$(".btn-toast").on("click",function(){$(this).siblings(".pop-toast").hasClass("show")||($(this).siblings(".pop-toast").addClass("show"),setTimeout(function(){$(".pop-toast").removeClass("show")},2e3))})}},lottie:{init:function(){0<$("#not-search").length&&e.lottie.init("not-search","01_coffee_cup"),0<$("#not-pin").length&&e.lottie.init("not-pin","02_wellcafe_pin"),0<$("#not-page").length&&e.lottie.init("not-page","03_error_page"),0<$("#not-service").length&&e.lottie.init("not-service","04_error_service"),0<$("#not-challenge").length&&e.lottie.init("not-challenge","06_challenge"),0<$("#not-challenge02").length&&e.lottie.init("not-challenge02","06_challenge"),0<$("#not-challenge03").length&&e.lottie.init("not-challenge03","06_challenge"),0<$("#not-challenge04").length&&e.lottie.init("not-challenge04","06_challenge"),0<$("#not-challenge05").length&&e.lottie.init("not-challenge05","06_challenge"),0<$("#not-board").length&&e.lottie.init("not-board","08_community_empty"),0<$("#icon-lottie06").length&&e.lottie.init("icon-lottie06","07_complete"),0<$("#not-coupon").length&&e.lottie.init("not-coupon","09_coupon"),0<$("#dormant-member").length&&e.lottie.init("dormant-member","05_login_dormant"),0<$("#not-ceracheck").length&&e.lottie.init("not-ceracheck","11_ceracheck")}},accordion:{init:function(){var t=$(".accordion-head button"),i=$(".accordion-head h3, .rolling-wrap"),n=$(".accordion-body");t.on("click",function(){$(this).hasClass("open")?(t.removeClass("open"),i.removeClass("fold"),n.stop().slideUp(100)):(t.removeClass("open"),i.addClass("fold"),n.stop().slideUp(200),$(this).addClass("open"),$(this).closest(".accordion-wrap").find(".accordion-body").stop().slideDown("fast"))})}},rolling:{init:function(){var t=$(".rolling-list");e.slick.init(t,{infinite:!0,speed:500,slidesToShow:1,dots:!1,arrows:!1,autoplay:!0,autoplaySpeed:3e3,vertical:!0})}},writeEvent:{init:function(){0<$(".box-guide").length&&this.guideBox(),0<$(".layout-write-wrap").length&&this.selectConv()},guideBox:function(){var t=$(".box-guide");setTimeout(function(){return t.addClass("hide")},3e3)},selectConv:function(){var t=$(".box-board-head select");0!=t.find("option:selected").index()&&t.closest(".box-select-wrap").addClass("on"),t.on("change",function(){0!=$(this).find("option:selected").index()?$(this).closest(".box-select-wrap").addClass("on"):$(this).closest(".box-select-wrap").removeClass("on")})}},textField:{init:function(){this.delete(),0<$(".text-input-wrap.isBtn").length&&this.actBtn()},actBtn:function(){var t=$(".text-input-wrap").find("input");setTimeout(function(){t.on("change keyup",function(){var t=$(this).val(),i=$(this).siblings(".btn-action");""!==t?(i.removeAttr("disabled"),i.addClass("btn-black"),i.show()):(i.attr("disabled",""),i.removeClass("btn-black"),i.hide())})},100)},delete:function(){var t=$(".text-input-wrap"),i=t.find("input"),n=t.find(".ico-search-delete");setTimeout(function(){i.on("change keyup",function(){var t=$(this).val(),i=$(this).siblings(".ico-search-delete");""!==t?i.show():i.hide()})},100),i.on("click",function(){return $(".ico-search-delete").hide()}),n.on("click",function(){$(this).hide(),$(this).siblings("input").val("").focus()}),document.querySelector("body").addEventListener("click",function(t){t.target.closest(".text-input-wrap")||n.hide()})}},storyDetail:{init:function(){0<$(".sub-visual .video-js").length&&this.coverVideo()},coverVideo:function(){var t=$(".sub-visual").find(".box-txt"),i=videojs("#cover-video");t.on("click",function(){i.paused()?i.play():i.pause()})}},fold:{init:function(){this.fold()},fold:function(){$(".fold-btn-wrap button").on("click",function(){$(this).hasClass("on")?($(this).removeClass("on"),$(this).closest(".fold-btn-wrap").siblings(".fold-wrap").removeClass("on")):($(this).addClass("on"),$(this).closest(".fold-btn-wrap").siblings(".fold-wrap").addClass("on"))})}},hashTag:{init:function(){var e=$(".chips-editable"),o=e.find(".edit-input-wrap .chip-edit"),s=e.find("#input-width-calc"),l=/[~!@\#$%^&*\()\-=+_'\;<>\/.\`:\"\\,\[\]?|{}]/gi,a=[],t=s.innerWidth();function c(){console.log(),e.siblings(".error").remove()}o.css("width",t),$(document).on("click",".chip-edit-done",function(){var t=$(this).index();a.splice(t,1),$(this).remove(),o.focus()}),o.on("propertychange change keyup paste input",function(t){var i,n=$(this).val();13===t.keyCode?(t.preventDefault(),i=-1<a.findIndex(function(t){return t===n}),n&&0<n.length&&!i&&(l.test(n)?(c(),e.after('<strong class="error">해시태그에는 특수문자를 사용할 수 없습니다.</strong>')):l.test(n)||(c(),a.push(n),t=n,i=e.find(".edit-input-wrap"),t='<button class="chip-edit chip-edit-done">'.concat(t,"</button>"),i.before(t))),s.text(""),o.val("").focus()):s.text(n),o.css("width",s.innerWidth())})}},popularSearchWord:{init:function(){this.rolling()},rolling:function(){var t=$(".box-search-word .rolling-wrap"),i=t.height(),n=t.find("li").length,e=i*n,o=0;setInterval(function(){o+=i,t.find("ul").animate({top:-o},600,function(){e<=o&&($(this).css("top",0),o=0)})},3e3),t.find("ul").append(t.find("li").first().clone())}},slider:{init:function(){this.welcafe(),this.chart()},welcafe:function(){e.slick.init($(".list-place"),{speed:700,slidesToShow:1,dots:!1,autoplay:!1,autoplaySpeed:3e3,variableWidth:!0,arrows:!1})},chart:function(){e.slick.init($(".chart-slider"),{speed:700,slidesToShow:1,dots:!1,autoplay:!1,arrows:!1})}},main:{init:function(){this.viSlider(),i.on("scroll",function(){0<$(window).scrollTop()?$("header").addClass("scrolling"):$("header").removeClass("scrolling")})},userSlide:function(){var i=$(".bottom-inner"),t=$(".user-list"),n=t.find("li").length,e=-(t.find("li").width()*n+12*(n-1)+10);i.append(t.clone()),i.append(t.clone()),function t(){i.css("left",0).animate({left:e},15e3,"linear",t)}()},viSlider:function(){var t;setTimeout(function(){$(".main-kv").on({init:function(t,i){var n;0<$(".slick-slide.slick-active").find("video").length?(n=1e3*$(".slick-slide.slick-active").find("video")[0].duration,$(".main-kv").slick("slickSetOption","autoplaySpeed",n)):$(".main-kv").slick("slickSetOption","autoplaySpeed",5e3)},afterChange:function(t,i,n,e){i.slideCount;0<$(".slick-slide.slick-active").find("video").length?(i=1e3*$(".slick-slide.slick-active").find("video")[0].duration,$(".main-kv").slick("slickSetOption","autoplaySpeed",i)):$(".main-kv").slick("slickSetOption","autoplaySpeed",5e3)}})},100),$(".main-kv > *").eq(0).find("video")[0]?(t=999*$(".main-kv > *").eq(0).find("video")[0].duration,e.slick.init($(".main-kv"),{infinite:!0,slidesToShow:1,autoplay:!0,autoplaySpeed:t,dots:!0,fade:!0})):e.slick.init($(".main-kv"),{infinite:!0,slidesToShow:1,autoplay:!0,autoplaySpeed:5e3,dots:!0,fade:!0})}}},e.init(),e}(window.uiCommon||{},$(window));